import{E as e,c as t,h as n,i as r,j as i,k as a,l as o}from"./svelte-B2R4pKbS.js";import{b as s,c,d as l,e as u,f as d,g as f,h as p,i as m,j as h,k as g}from"./index-DI1KP_OU.js";function _(e,t,n,r=!0){let i=t-n;return i<=0?r?e[e.length-1]:e[0]:e[i]}function v(e,t,n,r=!0){let i=t+n;return i>e.length-1?r?e[0]:e[e.length-1]:e[i]}function y(e,t,n=!0){return t===e.length-1?n?e[0]:e[t]:e[t+1]}function b(e,t,n=!0){return t<=0?n?e[e.length-1]:e[0]:e[t-1]}function x(e){return e[e.length-1]}function ee(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function te(e,t,n=g){let r=t.findIndex(t=>n(t,e));return r===-1?t.push(e):t.splice(r,1),t}function S(e){return Object.keys(e).reduce((t,n)=>e[n]===void 0?t:t+`${n}:${e[n]};`,``)}function ne(e){return e?!0:void 0}S({position:`absolute`,opacity:0,"pointer-events":`none`,margin:0,transform:`translateX(-100%)`});function re(e){if(e!==null)return``}function C(...e){return(...t)=>{for(let n of e)typeof n==`function`&&n(...t)}}function w(){}function T(e,...t){let n={};for(let r of Object.keys(e))t.includes(r)||(n[r]=e[r]);return n}function ie(e,t,n){return Object.fromEntries(Object.entries(e).filter(([e,n])=>!g(n,t)))}function E(e){let t={};for(let n in e){let r=e[n];r!==void 0&&(t[n]=r)}return t}function D(e){function t(t){return t(e),()=>{}}return{subscribe:t}}function O(e,t){if(!N)return null;let n=(t??document).querySelector(`[data-melt-id="${e}"]`);return I(n)?n:null}function k(e,t){if(!N)return null;let n=(t??document).querySelector(`[id="${e}"]`);return I(n)?n:null}const A=e=>new Proxy(e,{get(e,t,n){return Reflect.get(e,t,n)},ownKeys(e){return Reflect.ownKeys(e).filter(e=>e!==`action`)}}),ae=e=>typeof e==`function`;j(`empty`);function j(e,t){let{stores:r,action:i,returned:a}=t??{},o=(()=>{if(r&&a)return n(r,t=>{let n=a(t);if(ae(n)){let t=(...t)=>A(E({...n(...t),[`data-melt-${e}`]:``,action:i??w}));return t.action=i??w,t}return A(E({...n,[`data-melt-${e}`]:``,action:i??w}))});{let t=a,n=t?.();if(ae(n)){let t=(...t)=>A(E({...n(...t),[`data-melt-${e}`]:``,action:i??w}));return t.action=i??w,D(t)}return D(A(E({...n,[`data-melt-${e}`]:``,action:i??w})))}})(),s=i??(()=>{});return s.subscribe=o.subscribe,s}function M(e){let t=t=>t?`${e}-${t}`:e,n=t=>`data-melt-${e}${t?`-${t}`:``}`,r=t=>`[data-melt-${e}${t?`-${t}`:``}]`,i=e=>document.querySelector(r(e));return{name:t,attribute:n,selector:r,getEl:i}}const N=typeof document<`u`,P=e=>typeof e==`function`;function oe(e){return e instanceof ShadowRoot}function F(e){return e instanceof Element}function I(e){return e instanceof HTMLElement}function se(e){return e instanceof HTMLInputElement}function ce(e){return e instanceof HTMLLabelElement}function le(e){return e instanceof HTMLButtonElement}function ue(e){let t=e.getAttribute(`aria-disabled`),n=e.getAttribute(`disabled`),r=e.hasAttribute(`data-disabled`);return!!(t===`true`||n!==null||r)}function L(e){return typeof e==`object`&&!!e}function R(e){return L(e)&&`subscribe`in e}function de(e){if(!I(e))return!1;let t=e.getRootNode();return t===document?!0:oe(t)?t.ownerDocument===document:!1}function z(e,t,n,r){let i=Array.isArray(t)?t:[t];return i.forEach(t=>e.addEventListener(t,n,r)),()=>{i.forEach(t=>e.removeEventListener(t,n,r))}}function B(e,t,n,r){let i=Array.isArray(t)?t:[t];if(typeof n==`function`){let t=pe(e=>n(e));return i.forEach(n=>e.addEventListener(n,t,r)),()=>{i.forEach(n=>e.removeEventListener(n,t,r))}}return()=>void 0}function fe(e){let t=e.currentTarget;if(!I(t))return null;let n=new CustomEvent(`m-${e.type}`,{detail:{originalEvent:e},cancelable:!0});return t.dispatchEvent(n),n}function pe(e){return t=>{let n=fe(t);if(!n?.defaultPrevented)return e(t)}}function me(e){e.setAttribute(`data-highlighted`,``)}function he(e){e.removeAttribute(`data-highlighted`)}const ge=e=>{try{t(e)}catch{return e}};function _e(e){return Array.from(e.querySelectorAll(`[role="option"]:not([data-disabled])`)).filter(e=>I(e))}function V(e){return{...e,get:()=>r(e)}}V.writable=function(e){let t=o(e),n=e;return{subscribe:t.subscribe,set(e){t.set(e),n=e},update(e){let r=e(n);t.set(r),n=r},get(){return n}}},V.derived=function(e,t){let n=new Map,r=()=>{let n=Array.isArray(e)?e.map(e=>e.get()):e.get();return t(n)},i=t=>{let i=[],a=Array.isArray(e)?e:[e];return a.forEach(e=>{i.push(e.subscribe(()=>{t(r())}))}),t(r()),n.set(t,i),()=>{let e=n.get(t);if(e)for(let t of e)t();n.delete(t)}};return{get:r,subscribe:i}};const ve=(e,t)=>{let n=V(e),r=(e,r)=>{n.update(n=>{let i=e(n),a=i;return t&&(a=t({curr:n,next:i})),r?.(a),a})},i=e=>{r(()=>e)};return{...n,update:r,set:i}};function H(e){return new Promise(t=>setTimeout(t,e))}function ye(){return h(10)}function be(e){return e.reduce((e,t)=>(e[t]=ye(),e),{})}const U={ALT:`Alt`,ARROW_DOWN:`ArrowDown`,ARROW_LEFT:`ArrowLeft`,ARROW_RIGHT:`ArrowRight`,ARROW_UP:`ArrowUp`,BACKSPACE:`Backspace`,CAPS_LOCK:`CapsLock`,CONTROL:`Control`,DELETE:`Delete`,END:`End`,ENTER:`Enter`,ESCAPE:`Escape`,F1:`F1`,F10:`F10`,F11:`F11`,F12:`F12`,F2:`F2`,F3:`F3`,F4:`F4`,F5:`F5`,F6:`F6`,F7:`F7`,F8:`F8`,F9:`F9`,HOME:`Home`,META:`Meta`,PAGE_DOWN:`PageDown`,PAGE_UP:`PageUp`,SHIFT:`Shift`,SPACE:` `,TAB:`Tab`,CTRL:`Control`,ASTERISK:`*`,A:`a`,P:`p`},xe=[U.ARROW_DOWN,U.PAGE_UP,U.HOME],W=[U.ARROW_UP,U.PAGE_DOWN,U.END],Se=[...xe,...W],Ce=[U.ENTER,U.SPACE];function G(e,t=500){let n,r=(...r)=>{clearTimeout(n);let i=()=>e(...r);n=setTimeout(i,t)};return r.destroy=()=>clearTimeout(n),r}const we=()=>typeof window<`u`;function Te(){let e=navigator.userAgentData;return e?.platform??navigator.platform}const Ee=e=>we()&&e.test(Te().toLowerCase()),De=()=>we()&&!!navigator.maxTouchPoints,Oe=()=>Ee(/^mac/)&&!De(),K=()=>Ee(/mac|iphone|ipad|ipod/i),ke=()=>K()&&!Oe(),q=`data-melt-scroll-lock`;function Ae(e,t){if(!e)return;let n=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=n}}function je(e,t,n){if(!e)return;let r=e.style.getPropertyValue(t);return e.style.setProperty(t,n),()=>{r?e.style.setProperty(t,r):e.style.removeProperty(t)}}function Me(e){let t=e.getBoundingClientRect().left,n=Math.round(t)+e.scrollLeft;return n?`paddingLeft`:`paddingRight`}function Ne(e){let t=e??document,n=t.defaultView??window,{documentElement:r,body:i}=t,a=i.hasAttribute(q);if(a)return w;i.setAttribute(q,``);let o=n.innerWidth-r.clientWidth,s=()=>je(r,`--scrollbar-width`,`${o}px`),c=Me(r),l=n.getComputedStyle(i)[c],u=()=>Ae(i,{overflow:`hidden`,[c]:`calc(${l} + ${o}px)`}),d=()=>{let{scrollX:e,scrollY:t,visualViewport:r}=n,a=r?.offsetLeft??0,s=r?.offsetTop??0,u=Ae(i,{position:`fixed`,overflow:`hidden`,top:`${-(t-Math.floor(s))}px`,left:`${-(e-Math.floor(a))}px`,right:`0`,[c]:`calc(${l} + ${o}px)`});return()=>{u?.(),n.scrollTo(e,t)}},f=[s(),ke()?d():u()];return()=>{f.forEach(e=>e?.()),i.removeAttribute(q)}}function Pe(e){let{open:t,forceVisible:r,activeTrigger:i}=e;return n([t,r,i],([e,t,n])=>(e||t)&&n!==null)}function J(e,t,r={}){let{skipFirstRun:i}=r,a=!0,o,s=n(e,e=>{o?.(),a&&i?a=!1:o=t(e)}).subscribe(w),c=()=>{s(),o?.()};return ge(c),c}function Y(e){let t={};return Object.keys(e).forEach(n=>{let r=n,i=e[r];t[r]=V(o(i))}),t}function Fe(e){N&&H(1).then(()=>{let t=document.activeElement;!I(t)||t===e||(t.tabIndex=-1,e&&(e.tabIndex=0,e.focus()))})}const Ie=new Set([`Shift`,`Control`,`Alt`,`Meta`,`CapsLock`,`NumLock`]),Le={onMatch:Fe,getCurrentItem:()=>document.activeElement};function Re(e={}){let t={...Le,...e},n=V(o([])),i=G(()=>{n.update(()=>[])}),a=(e,a)=>{if(Ie.has(e))return;let o=t.getCurrentItem(),s=r(n);if(!Array.isArray(s))return;s.push(e.toLowerCase()),n.set(s);let c=a.filter(e=>!(e.getAttribute(`disabled`)===`true`||e.getAttribute(`aria-disabled`)===`true`||e.hasAttribute(`data-disabled`))),l=s.length>1&&s.every(e=>e===s[0]),u=l?s[0]:s.join(``),d=I(o)?c.indexOf(o):-1,f=ee(c,Math.max(d,0)),p=u.length===1;p&&(f=f.filter(e=>e!==o));let m=f.find(e=>e?.innerText&&e.innerText.toLowerCase().startsWith(u.toLowerCase()));I(m)&&m!==o&&t.onMatch(m),i()};return{typed:n,resetTyped:i,handleTypeaheadSearch:a}}function ze(e){let t=e.parentElement;for(;I(t)&&!t.hasAttribute(`data-portal`);)t=t.parentElement;return t||`body`}function Be(e,t){if(t!==void 0)return t;let n=ze(e);return n===`body`?document.body:null}function X(e,t){return e===t||e.contains(t)}function Ve(e){return e?.ownerDocument??document}function He(e){return t=>{let n=t.target,r=O(e);if(!r||!F(n))return!1;let i=r.id;return!!(ce(n)&&i===n.htmlFor||n.closest(`label[for="${i}"]`))}}async function Ue(t){let{prop:n,defaultEl:r}=t;if(await Promise.all([H(1),e]),n===void 0){r?.focus();return}let i=P(n)?n(r):n;if(typeof i==`string`){let e=document.querySelector(i);if(!I(e))return;e.focus()}else I(i)&&i.focus()}const{name:We,selector:Ge}=M(`accordion`);function Ke(e){let t={};return Object.keys(e).forEach(n=>{let r=n,a=e[r];R(a)?t[r]=V(a):t[r]=V(i(a))}),t}const qe={prefix:``,disabled:i(!1),required:i(!1),name:i(void 0),type:i(void 0),checked:void 0};function Je(e){let t={...qe,...E(e)},{name:n}=M(t.prefix),{value:r,name:i,disabled:a,required:o,type:s,checked:c}=Ke(T(t,`prefix`)),l=i,u=V.derived([c,s],([e,t])=>{if(t===`checkbox`)return e===`indeterminate`?!1:e}),d=j(n(`hidden-input`),{stores:[r,l,a,o,s,u],returned:([e,t,n,r,i,a])=>({name:t,value:e?.toString(),"aria-hidden":`true`,hidden:!0,disabled:n,required:r,tabIndex:-1,type:i,checked:a,style:S({position:`absolute`,opacity:0,"pointer-events":`none`,margin:0,transform:`translateX(-100%)`})}),action:e=>{let t=C(r.subscribe(t=>{s.get()!==`checkbox`&&(e.value=t,e.dispatchEvent(new Event(`change`,{bubbles:!0})))}),u.subscribe(()=>{s.get()===`checkbox`&&e.dispatchEvent(new Event(`change`,{bubbles:!0}))}));return{destroy:t}}});return d}const{name:Ye}=M(`collapsible`),Z=new Map,Xe=((e,t={})=>{let n=w;function r(t={}){n();let r={behaviorType:`close`,...t},a=R(r.behaviorType)?r.behaviorType:V(i(r.behaviorType));Z.set(e,a);let o=t=>{if(t.key!==U.ESCAPE||!Ze(e))return;let n=t.target;I(n)&&(t.preventDefault(),!Qe(t,r.ignore)&&$e(a.get())&&r.handler?.(t))};n=C(z(document,`keydown`,o,{passive:!1}),J(a,t=>{t===`close`||t===`defer-otherwise-close`&&[...Z.keys()][0]===e?e.dataset.escapee=``:delete e.dataset.escapee}),a.destroy||w)}return r(t),{update:r,destroy(){Z.delete(e),delete e.dataset.escapee,n()}}}),Ze=e=>{let t=[...Z],n=t.findLast(([e,t])=>{let n=t.get();return n===`close`||n===`ignore`});if(n)return n[0]===e;let[r]=t[0];return r===e},Qe=(e,t)=>t?!!(P(t)&&t(e)||Array.isArray(t)&&t.some(t=>e.target===t)):!1,$e=e=>e===`close`||e===`defer-otherwise-close`,et={strategy:`absolute`,placement:`top`,gutter:5,flip:!0,sameWidth:!1,overflowPadding:8},tt={bottom:`rotate(45deg)`,left:`rotate(135deg)`,top:`rotate(225deg)`,right:`rotate(315deg)`};function nt(e){return L(e)&&`getBoundingClientRect`in e}function rt(e,t,n={}){if(!t||!e||n===null)return{destroy:w};let r={...et,...n},i=t.querySelector(`[data-arrow=true]`),a=[];r.flip&&a.push(d({boundary:r.boundary,padding:r.overflowPadding,...L(r.flip)&&r.flip}));let o=I(i)?i.offsetHeight/2:0;if(r.gutter||r.offset){let e=r.gutter?{mainAxis:r.gutter}:r.offset;e?.mainAxis!=null&&(e.mainAxis+=o),a.push(f(e))}a.push(p({boundary:r.boundary,crossAxis:r.overlap,padding:r.overflowPadding})),i&&a.push(c({element:i,padding:8})),a.push(m({padding:r.overflowPadding,apply({rects:e,availableHeight:n,availableWidth:i}){r.sameWidth&&Object.assign(t.style,{width:`${Math.round(e.reference.width)}px`,minWidth:`unset`}),r.fitViewport&&Object.assign(t.style,{maxWidth:`${i}px`,maxHeight:`${n}px`})}}));function s(){if(!e||!t||!nt(e)&&!de(e))return;let{placement:n,strategy:s}=r;u(e,t,{placement:n,middleware:a,strategy:s}).then(e=>{let n=Math.round(e.x),a=Math.round(e.y),[s,c]=it(e.placement);if(t.setAttribute(`data-side`,s),t.setAttribute(`data-align`,c),Object.assign(t.style,{position:r.strategy,top:`${a}px`,left:`${n}px`}),I(i)&&e.middlewareData.arrow){let{x:t,y:n}=e.middlewareData.arrow,r=e.placement.split(`-`)[0];i.setAttribute(`data-side`,r),Object.assign(i.style,{position:`absolute`,left:t==null?``:`${t}px`,top:n==null?``:`${n}px`,[r]:`calc(100% - ${o}px)`,transform:tt[r],backgroundColor:`inherit`,zIndex:`inherit`})}return e})}return Object.assign(t.style,{position:r.strategy}),{destroy:l(e,t,s)}}function it(e){let[t,n=`center`]=e.split(`-`);return[t,n]}const at=((e,t={})=>{let n=w,r=t=>{n();let r=s(e,{returnFocusOnDeactivate:!1,allowOutsideClick:!0,escapeDeactivates:!1,clickOutsideDeactivates:!1,...t});n=r.deactivate,r.activate()};return r(t),{destroy:n,update:r}}),ot=((e,t)=>{let n=w;function r(t){n();let{onClose:r,shouldCloseOnInteractOutside:i,closeOnInteractOutside:a}=t;function o(){r?.()}function s(e){let t=e.target;F(t)&&e.stopImmediatePropagation()}function c(e){i?.(e)&&(e.stopImmediatePropagation(),o())}n=gt(e,{onInteractOutsideStart:s,onInteractOutside:a?c:void 0,enabled:a}).destroy}return r(t),{update:r,destroy(){n()}}}),st=new Set,ct=((e,t={})=>{st.add(e);let n=w,r=w,a=Ve(e),o=!1,s=t=>{n(),c();let s={enabled:!0,...t},l=R(s.enabled)?s.enabled:V(i(s.enabled)),u=t=>{let n=t.target;!dt(e)||!I(n)||!l.get()||(o=X(e,n),o&&(r=lt(e)))};n=C(z(a,`pointerdown`,u,!0),z(a,`pointerup`,c,!0))},c=()=>{r(),r=w,o=!1};return s(t),{destroy(){st.delete(e),n(),c()},update:s}}),lt=e=>{let t=document.body,n=ut(t),r=ut(e);return Q(t,`none`),Q(e,`text`),()=>{Q(t,n),Q(e,r)}},ut=e=>e.style.userSelect||e.style.webkitUserSelect,Q=(e,t)=>{e.style.userSelect=t,e.style.webkitUserSelect=t},dt=e=>[...st].at(-1)===e,ft={floating:{},focusTrap:{},modal:{},escapeKeydown:{},portal:`body`,preventTextSelectionOverflow:{}},pt=((e,t)=>{e.dataset.escapee=``;let{anchorElement:n,open:r,options:i}=t;if(!n||!r||!i)return{destroy:w};let a={...ft,...i},o=[];a.portal!==null&&o.push(mt(e,a.portal).destroy),o.push(rt(n,e,a.floating).destroy),a.focusTrap!==null&&o.push(at(e,{fallbackFocus:e,...a.focusTrap}).destroy),a.modal!==null&&o.push(ot(e,{onClose:()=>{I(n)&&(r.set(!1),n.focus())},shouldCloseOnInteractOutside:e=>!(e.defaultPrevented||I(n)&&n.contains(e.target)),...a.modal}).destroy),a.escapeKeydown!==null&&o.push(Xe(e,{handler:()=>{r.set(!1)},...a.escapeKeydown}).destroy),a.preventTextSelectionOverflow!==null&&o.push(ct(e).destroy);let s=C(...o);return{destroy(){s()}}}),mt=((t,n=`body`)=>{let r;if(!I(n)&&typeof n!=`string`)return{destroy:w};async function i(i=`body`){if(n=i,typeof n==`string`){if(r=document.querySelector(n),r===null&&(await e(),r=document.querySelector(n)),r===null)throw Error(`No element found matching css selector: "${n}"`)}else if(n instanceof HTMLElement)r=n;else throw TypeError(`Unknown portal target type: ${n===null?`null`:typeof n}. Allowed types: string (CSS selector) or HTMLElement.`);t.dataset.portal=``,r.appendChild(t),t.hidden=!1}function a(){t.remove()}return i(n),{update:i,destroy:a}}),ht=new Set,gt=((e,t={})=>{let n=w,r=w,i=w,a=w;ht.add(e);let o=Ve(e),s=!1,c=!1,l={pointerdown:!1,pointerup:!1,mousedown:!1,mouseup:!1,touchstart:!1,touchend:!1,click:!1},u=()=>{for(let e in l)l[e]=!1},d=()=>{for(let e of Object.values(l))if(e)return!0;return!1},f=(e,t)=>z(o,e,n=>{l[e]=!0,t?.(n)},!0),p=(e,t)=>z(o,e,n=>{l[e]=!1;let r={};I(n.target)&&oe(n.target.shadowRoot)&&(r.shadowTarget=n.composedPath()[0]),t?.(n,r)});function m(t){n(),r(),i(),a(),u();let{onInteractOutside:o,onInteractOutsideStart:l,enabled:m}={enabled:!0,...t};if(!m)return;let _=!1,v=G((t,n)=>{if(!_||d())return;o&&_t(t,e)&&l?.(t);let r=n?.shadowTarget?n.shadowTarget:t.target;F(r)&&X(e,r)&&(c=!0),s=!0},10);r=v.destroy;let y=G(e=>{_&&!d()&&h(e)&&o?.(e),g()},10);i=y.destroy;let b=G(u,20);a=b.destroy;let x=()=>{_=vt(e)};n=C(f(`pointerdown`,x),f(`mousedown`,x),f(`touchstart`,x),f(`pointerup`,b),f(`mouseup`,b),f(`touchend`,b),f(`click`,b),p(`pointerdown`,v),p(`mousedown`,v),p(`touchstart`,v),p(`pointerup`,y),p(`mouseup`,y),p(`touchend`,y),p(`click`,y))}function h(t){return!!(s&&!c&&_t(t,e))}function g(){s=!1,c=!1}return m(t),{update:m,destroy(){n(),r(),i(),a(),ht.delete(e)}}});function _t(e,t){if(`button`in e&&e.button>0)return!1;let n=e.target;if(!F(n))return!1;let r=n.ownerDocument;return!r||!r.documentElement.contains(n)?!1:t&&!X(t,n)}function vt(e){return Array.from(ht).at(-1)===e}function yt(){let e=j(`label`,{action:e=>{let t=B(e,`mousedown`,e=>{!e.defaultPrevented&&e.detail>1&&e.preventDefault()});return{destroy:t}}});return{elements:{root:e}}}const bt=[U.ARROW_LEFT,U.ESCAPE,U.ARROW_RIGHT,U.SHIFT,U.CAPS_LOCK,U.CONTROL,U.ALT,U.META,U.ENTER,U.F1,U.F2,U.F3,U.F4,U.F5,U.F6,U.F7,U.F8,U.F9,U.F10,U.F11,U.F12],xt={positioning:{placement:`bottom`,sameWidth:!0},scrollAlignment:`nearest`,loop:!0,defaultOpen:!1,closeOnOutsideClick:!0,preventScroll:!0,escapeBehavior:`close`,forceVisible:!1,portal:`body`,builder:`listbox`,disabled:!1,required:!1,name:void 0,typeahead:!0,highlightOnHover:!0,onOutsideClick:void 0,preventTextSelectionOverflow:!0,rootElement:void 0},St=[`trigger`,`menu`,`label`];function Ct(t){let i={...xt,...t},s=V(o(null)),c=V(o(null)),l=i.selected??o(i.defaultSelected),u=ve(l,i?.onSelectedChange),d=n(c,e=>e?Te(e):void 0),f=i.open??o(i.defaultOpen),p=ve(f,i?.onOpenChange),m=Y({...T(i,`open`,`defaultOpen`,`builder`,`ids`),multiple:i.multiple??!1}),{scrollAlignment:h,loop:ee,closeOnOutsideClick:re,escapeBehavior:E,preventScroll:D,portal:O,forceVisible:A,positioning:ae,multiple:P,arrowSize:oe,disabled:ce,required:R,typeahead:de,name:z,highlightOnHover:fe,onOutsideClick:pe,preventTextSelectionOverflow:ge,rootElement:H}=m,xe=H.get();N&&xe===void 0?H.set(document):t?.portal===void 0&&O.set(xe);let{name:W,selector:Ce}=M(i.builder),G=Y({...be(St),...i.ids}),{handleTypeaheadSearch:we}=Re({onMatch:e=>{c.set(e),e.scrollIntoView({block:h.get()})},getCurrentItem(){return c.get()}});function Te(e){let t=e.getAttribute(`data-value`),n=e.getAttribute(`data-label`),r=e.hasAttribute(`data-disabled`);return{value:t&&JSON.parse(t),label:n??e.textContent??void 0,disabled:!!r}}let Ee=e=>{u.update(t=>{let n=P.get();if(n){let n=Array.isArray(t)?[...t]:[];return te(e,n,(e,t)=>g(e.value,t.value))}return e})};function De(e){let t=Te(e);Ee(t)}async function Oe(){p.set(!0),await e();let t=k(G.menu.get(),H.get());if(!I(t))return;let n=t.querySelector(`[aria-selected=true]`);I(n)&&c.set(n)}function K(){p.set(!1),c.set(null)}let ke=Pe({open:p,forceVisible:A,activeTrigger:s}),q=n([u],([e])=>t=>Array.isArray(e)?e.some(e=>g(e.value,t)):L(t)?g(e?.value,ie(t,void 0,!0)):g(e?.value,t)),Ae=n([d],([e])=>t=>g(e?.value,t)),je=j(W(`trigger`),{stores:[p,c,ce,G.menu,G.trigger,G.label],returned:([e,t,n,r,a,o])=>({"aria-activedescendant":t?.id,"aria-autocomplete":`list`,"aria-controls":r,"aria-expanded":e,"aria-labelledby":o,"data-state":e?`open`:`closed`,id:a,role:`combobox`,disabled:ne(n),type:i.builder===`select`?`button`:void 0}),action:t=>{s.set(t);let n=se(t),r=C(B(t,`click`,()=>{t.focus();let e=p.get();e?K():Oe()}),B(t,`keydown`,r=>{let i=p.get();if(!i){if(bt.includes(r.key)||r.key===U.TAB||r.key===U.BACKSPACE&&n&&t.value===``||r.key===U.SPACE&&le(t))return;Oe(),e().then(()=>{let e=u.get();if(e)return;let t=k(G.menu.get(),H.get());if(!I(t))return;let n=Array.from(t.querySelectorAll(`${Ce(`item`)}:not([data-disabled]):not([data-hidden])`)).filter(e=>I(e));n.length&&(r.key===U.ARROW_DOWN?(c.set(n[0]),n[0].scrollIntoView({block:h.get()})):r.key===U.ARROW_UP&&(c.set(x(n)),x(n).scrollIntoView({block:h.get()})))})}if(r.key===U.TAB){K();return}if(r.key===U.ENTER&&!r.isComposing||r.key===U.SPACE&&le(t)){r.preventDefault();let e=c.get();e&&De(e),P.get()||K()}if(r.key===U.ARROW_UP&&r.altKey&&K(),Se.includes(r.key)){r.preventDefault();let e=k(G.menu.get(),H.get());if(!I(e))return;let t=_e(e);if(!t.length)return;let n=t.filter(e=>!ue(e)&&e.dataset.hidden===void 0),i=c.get(),a=i?n.indexOf(i):-1,o=ee.get(),s=h.get(),l;switch(r.key){case U.ARROW_DOWN:l=y(n,a,o);break;case U.ARROW_UP:l=b(n,a,o);break;case U.PAGE_DOWN:l=v(n,a,10,o);break;case U.PAGE_UP:l=_(n,a,10,o);break;case U.HOME:l=n[0];break;case U.END:l=x(n);break;default:return}c.set(l),l?.scrollIntoView({block:s})}else if(de.get()){let e=k(G.menu.get(),H.get());if(!I(e))return;we(r.key,_e(e))}}));return{destroy(){s.set(null),r()}}}}),Me=j(W(`menu`),{stores:[ke,G.menu],returned:([e,t])=>({hidden:e?void 0:!0,id:t,role:`listbox`,style:e?void 0:S({display:`none`})}),action:t=>{let n=w,r=C(J([ke,O,re,ae,s],([r,i,a,o,s])=>{n(),!(!r||!s)&&e().then(()=>{n();let e=He(G.trigger.get());n=pt(t,{anchorElement:s,open:p,options:{floating:o,focusTrap:null,modal:{closeOnInteractOutside:a,onClose:K,shouldCloseOnInteractOutside:t=>{if(pe.get()?.(t),t.defaultPrevented)return!1;let n=t.target;return!(!F(n)||n===s||s.contains(n)||e(t))}},escapeKeydown:{handler:K,behaviorType:E},portal:Be(t,i),preventTextSelectionOverflow:{enabled:ge}}}).destroy})}));return{destroy:()=>{r(),n()}}}}),{elements:{root:Fe}}=yt(),{action:Ie}=r(Fe),Le=j(W(`label`),{stores:[G.label,G.trigger],returned:([e,t])=>({id:e,for:t}),action:Ie}),ze=j(W(`option`),{stores:[q],returned:([e])=>t=>{let n=e(t.value);return{"data-value":JSON.stringify(t.value),"data-label":t.label,"data-disabled":ne(t.disabled),"aria-disabled":t.disabled?!0:void 0,"aria-selected":n,"data-selected":n?``:void 0,id:ye(),role:`option`}},action:e=>{let t=C(B(e,`click`,t=>{if(ue(e)){t.preventDefault();return}De(e),P.get()||K()}),J(fe,t=>{if(!t)return;let n=C(B(e,`mouseover`,()=>{c.set(e)}),B(e,`mouseleave`,()=>{c.set(null)}));return n}));return{destroy:t}}}),X=j(W(`group`),{returned:()=>e=>({role:`group`,"aria-labelledby":e})}),Ve=j(W(`group-label`),{returned:()=>e=>({id:e})}),Ue=Je({value:n([u],([e])=>{let t=Array.isArray(e)?e.map(e=>e.value):e?.value;return typeof t==`string`?t:JSON.stringify(t)}),name:a(z),required:R,prefix:i.builder}),We=j(W(`arrow`),{stores:oe,returned:e=>({"data-arrow":!0,style:S({position:`absolute`,width:`var(--arrow-size, ${e}px)`,height:`var(--arrow-size, ${e}px)`})})});return J([c],([e])=>{if(!N)return;let t=k(G.menu.get(),H.get());I(t)&&_e(t).forEach(t=>{t===e?me(t):he(t)})}),J([p,D],([e,t])=>{if(!(!N||!e||!t))return Ne()}),{ids:G,elements:{trigger:je,group:X,option:ze,menu:Me,groupLabel:Ve,label:Le,hiddenInput:Ue,arrow:We},states:{open:p,selected:u,highlighted:d,highlightedItem:c},helpers:{isSelected:q,isHighlighted:Ae,closeMenu:K},options:m}}U.ARROW_LEFT,U.ESCAPE,U.ARROW_RIGHT,U.SHIFT,U.CAPS_LOCK,U.CONTROL,U.ALT,U.META,U.ENTER,U.F1,U.F2,U.F3,U.F4,U.F5,U.F6,U.F7,U.F8,U.F9,U.F10,U.F11,U.F12;const{name:wt}=M(`combobox`);[...Ce,U.ARROW_RIGHT],[...Ce,U.ARROW_LEFT],U.ARROW_LEFT,U.ARROW_RIGHT;const{name:Tt,selector:Et}=M(`context-menu`),Dt=[`day`,`month`,`year`],Ot=[`hour`,`minute`,`second`,`dayPeriod`],kt=[`literal`,`timeZoneName`],At=[...Dt,...Ot],jt=[...At,...kt];jt.filter(e=>e!==`literal`);const Mt={isDateDisabled:void 0,isDateUnavailable:void 0,value:void 0,preventDeselect:!1,numberOfMonths:1,pagedNavigation:!1,weekStartsOn:0,fixedWeeks:!1,calendarLabel:`Event Date`,locale:`en`,minValue:void 0,maxValue:void 0,disabled:!1,readonly:!1,weekdayFormat:`narrow`},{name:Nt}=M(`calendar`),{name:Pt}=M(`dateField`);({...T(Mt,`isDateDisabled`,`isDateUnavailable`,`value`,`locale`,`disabled`,`readonly`,`minValue`,`maxValue`,`weekdayFormat`)});const{name:Ft}=M(`dateField`),{name:$}=M(`dialog`),It={preventScroll:!0,escapeBehavior:`close`,closeOnOutsideClick:!0,role:`dialog`,defaultOpen:!1,portal:`body`,forceVisible:!1,openFocus:void 0,closeFocus:void 0,onOutsideClick:void 0},Lt=[`content`,`title`,`description`];function Rt(e){let t={...It,...e},r=Y(T(t,`ids`)),{preventScroll:i,escapeBehavior:a,closeOnOutsideClick:s,role:c,portal:l,forceVisible:u,openFocus:d,closeFocus:f,onOutsideClick:p}=r,m=V.writable(null),h=Y({...be(Lt),...t.ids}),g=t.open??o(t.defaultOpen),_=ve(g,t?.onOpenChange),v=n([_,u],([e,t])=>e||t),y=w;function b(e){let t=e.currentTarget,n=e.currentTarget;!I(t)||!I(n)||(_.set(!0),m.set(n))}function x(){_.set(!1)}let ee=j($(`trigger`),{stores:[_],returned:([e])=>({"aria-haspopup":`dialog`,"aria-expanded":e,type:`button`}),action:e=>{let t=C(B(e,`click`,e=>{b(e)}),B(e,`keydown`,e=>{e.key!==U.ENTER&&e.key!==U.SPACE||(e.preventDefault(),b(e))}));return{destroy:t}}}),te=j($(`overlay`),{stores:[v,_],returned:([e,t])=>({hidden:e?void 0:!0,tabindex:-1,style:e?void 0:S({display:`none`}),"aria-hidden":!0,"data-state":t?`open`:`closed`})}),ne=j($(`content`),{stores:[v,h.content,h.description,h.title,_],returned:([e,t,n,r,i])=>({id:t,role:c.get(),"aria-describedby":n,"aria-labelledby":r,"aria-modal":e?`true`:void 0,"data-state":i?`open`:`closed`,tabindex:-1,hidden:e?void 0:!0,style:e?void 0:S({display:`none`})}),action:e=>{let t=w,n=w,r=w,i=J([v,s],([i,o])=>{n(),t(),r(),i&&(n=ot(e,{closeOnInteractOutside:o,onClose:x,shouldCloseOnInteractOutside(e){return p.get()?.(e),!e.defaultPrevented}}).destroy,t=Xe(e,{handler:x,behaviorType:a}).destroy,r=at(e,{fallbackFocus:e}).destroy)});return{destroy:()=>{y(),i(),n(),t(),r()}}}}),ie=j($(`portalled`),{stores:l,returned:e=>({"data-portal":re(e)}),action:e=>{let t=J([l],([t])=>{if(t===null)return w;let n=Be(e,t);return n===null?w:mt(e,n).destroy});return{destroy(){t()}}}}),E=j($(`title`),{stores:[h.title],returned:([e])=>({id:e})}),D=j($(`description`),{stores:[h.description],returned:([e])=>({id:e})}),O=j($(`close`),{returned:()=>({type:`button`}),action:e=>{let t=C(B(e,`click`,()=>{x()}),B(e,`keydown`,e=>{e.key!==U.SPACE&&e.key!==U.ENTER||(e.preventDefault(),x())}));return{destroy:t}}});return J([_,i],([e,t])=>{if(N){if(t&&e&&(y=Ne()),e){let e=document.getElementById(h.content.get());Ue({prop:d.get(),defaultEl:e})}return()=>{u.get()||y()}}}),J(_,e=>{!N||e||Ue({prop:f.get(),defaultEl:m.get()})},{skipFirstRun:!0}),{ids:h,elements:{content:ne,trigger:ee,title:E,description:D,overlay:te,close:O,portalled:ie},states:{open:_},options:r}}const{name:zt}=M(`hover-card`);U.ARROW_LEFT,U.ARROW_RIGHT,U.HOME,U.END;const{name:Bt}=M(`menubar`),{name:Vt,selector:Ht}=M(`pagination`),{name:Ut,selector:Wt}=M(`pin-input`),{name:Gt}=M(`popover`),{name:Kt}=M(`progress`),{name:qt,selector:Jt}=M(`radio-group`),{name:Yt}=M(`calendar`),{name:Xt}=M(`scroll-area`);function Zt(e){let t=Ct({...e,builder:`select`}),r=n(t.states.selected,e=>Array.isArray(e)?e.map(e=>e.label).join(`, `):e?.label??``);return{...t,elements:{...t.elements},states:{...t.states,selectedLabel:r}}}const{name:Qt}=M(`slider`),{name:$t}=M(`switch`),{name:en,selector:tn}=M(`tabs`),{name:nn,attribute:rn,selector:an}=M(`tags-input`),{name:on}=M(`toast`),{name:sn,selector:cn}=M(`toggle-group`),{name:ln,selector:un}=M(`toolbar`),{name:dn}=M(`tooltip`),{name:fn}=M(`tree-view`);export{Zt as b,Rt as c};